{"ast":null,"code":"var _jsxFileName = \"Z:\\\\GAUNTLET\\\\projects\\\\SERMO\\\\sermo-app\\\\frontend\\\\src\\\\components\\\\chat\\\\MessageList\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchMessages } from '../../../store/messages/messagesThunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageListContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  padding: 1rem;\n  background-color: ${props => props.theme.colors.background};\n  border: 2px solid ${props => props.theme.colors.border};\n  font-family: 'VT323', monospace;\n  margin: 0.5rem;\n  position: relative;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: -4px;\n    left: -4px;\n    right: -4px;\n    bottom: -4px;\n    border: 2px solid ${props => props.theme.colors.border};\n    pointer-events: none;\n  }\n\n  /* Hide scrollbar but keep functionality */\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n_c = MessageListContainer;\nconst MessageItem = styled.div`\n  margin: 0.5rem 0;\n  padding: 0.5rem;\n  border: 1px solid ${props => props.theme.colors.border};\n  background-color: ${props => props.theme.colors.backgroundDark};\n  position: relative;\n\n  &:before {\n    content: '>';\n    position: absolute;\n    left: -1rem;\n    color: ${props => props.theme.colors.primary};\n  }\n`;\n_c2 = MessageItem;\nconst MessageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.25rem;\n  font-size: 0.875rem;\n  color: ${props => props.theme.colors.primary};\n`;\n_c3 = MessageHeader;\nconst MessageContent = styled.div`\n  color: ${props => props.theme.colors.text};\n  word-break: break-word;\n  white-space: pre-wrap;\n`;\n_c4 = MessageContent;\nconst LoadingText = styled.div`\n  color: ${props => props.theme.colors.primary};\n  text-align: center;\n  padding: 1rem;\n  animation: blink 1s step-end infinite;\n\n  @keyframes blink {\n    50% { opacity: 0; }\n  }\n`;\n_c5 = LoadingText;\nconst ErrorText = styled.div`\n  color: ${props => props.theme.colors.error};\n  text-align: center;\n  padding: 1rem;\n  border: 1px solid ${props => props.theme.colors.error};\n`;\n_c6 = ErrorText;\nconst MessageList = ({\n  channelId\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const messagesEndRef = useRef(null);\n  const messages = useSelector(state => state.messages.messagesByChannel[channelId] || []);\n  const loading = useSelector(state => state.messages.loading);\n  const error = useSelector(state => state.messages.error);\n  useEffect(() => {\n    if (channelId) {\n      dispatch(fetchMessages({\n        channelId\n      }));\n    }\n  }, [channelId, dispatch]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const formatTimestamp = timestamp => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString('en-US', {\n      hour12: false\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingText, {\n      children: \"Loading messages...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorText, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(MessageListContainer, {\n    children: [messages.map(message => /*#__PURE__*/_jsxDEV(MessageItem, {\n      children: [/*#__PURE__*/_jsxDEV(MessageHeader, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"User #\", message.sender_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formatTimestamp(message.created_at)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MessageContent, {\n        children: message.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, message.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageList, \"3CNJSZDnU2KYuJfB9BL1r/BK85E=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c7 = MessageList;\nexport default MessageList;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"MessageListContainer\");\n$RefreshReg$(_c2, \"MessageItem\");\n$RefreshReg$(_c3, \"MessageHeader\");\n$RefreshReg$(_c4, \"MessageContent\");\n$RefreshReg$(_c5, \"LoadingText\");\n$RefreshReg$(_c6, \"ErrorText\");\n$RefreshReg$(_c7, \"MessageList\");","map":{"version":3,"names":["React","useEffect","useRef","useSelector","useDispatch","styled","fetchMessages","jsxDEV","_jsxDEV","MessageListContainer","div","props","theme","colors","background","border","_c","MessageItem","backgroundDark","primary","_c2","MessageHeader","_c3","MessageContent","text","_c4","LoadingText","_c5","ErrorText","error","_c6","MessageList","channelId","_s","dispatch","messagesEndRef","messages","state","messagesByChannel","loading","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTimestamp","timestamp","date","Date","toLocaleTimeString","hour12","children","fileName","_jsxFileName","lineNumber","columnNumber","map","message","sender_id","created_at","content","id","ref","_c7","$RefreshReg$"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/components/chat/MessageList/index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { Message } from '../../../types';\r\nimport { RootState } from '../../../store/rootReducer';\r\nimport { fetchMessages } from '../../../store/messages/messagesThunks';\r\n\r\nconst MessageListContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 1rem;\r\n  background-color: ${props => props.theme.colors.background};\r\n  border: 2px solid ${props => props.theme.colors.border};\r\n  font-family: 'VT323', monospace;\r\n  margin: 0.5rem;\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: -4px;\r\n    left: -4px;\r\n    right: -4px;\r\n    bottom: -4px;\r\n    border: 2px solid ${props => props.theme.colors.border};\r\n    pointer-events: none;\r\n  }\r\n\r\n  /* Hide scrollbar but keep functionality */\r\n  scrollbar-width: none;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst MessageItem = styled.div`\r\n  margin: 0.5rem 0;\r\n  padding: 0.5rem;\r\n  border: 1px solid ${props => props.theme.colors.border};\r\n  background-color: ${props => props.theme.colors.backgroundDark};\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: '>';\r\n    position: absolute;\r\n    left: -1rem;\r\n    color: ${props => props.theme.colors.primary};\r\n  }\r\n`;\r\n\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 0.25rem;\r\n  font-size: 0.875rem;\r\n  color: ${props => props.theme.colors.primary};\r\n`;\r\n\r\nconst MessageContent = styled.div`\r\n  color: ${props => props.theme.colors.text};\r\n  word-break: break-word;\r\n  white-space: pre-wrap;\r\n`;\r\n\r\nconst LoadingText = styled.div`\r\n  color: ${props => props.theme.colors.primary};\r\n  text-align: center;\r\n  padding: 1rem;\r\n  animation: blink 1s step-end infinite;\r\n\r\n  @keyframes blink {\r\n    50% { opacity: 0; }\r\n  }\r\n`;\r\n\r\nconst ErrorText = styled.div`\r\n  color: ${props => props.theme.colors.error};\r\n  text-align: center;\r\n  padding: 1rem;\r\n  border: 1px solid ${props => props.theme.colors.error};\r\n`;\r\n\r\ninterface MessageListProps {\r\n  channelId: number;\r\n}\r\n\r\nconst MessageList: React.FC<MessageListProps> = ({ channelId }) => {\r\n  const dispatch = useDispatch();\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const messages = useSelector((state: RootState) => state.messages.messagesByChannel[channelId] || []);\r\n  const loading = useSelector((state: RootState) => state.messages.loading);\r\n  const error = useSelector((state: RootState) => state.messages.error);\r\n\r\n  useEffect(() => {\r\n    if (channelId) {\r\n      dispatch(fetchMessages({ channelId }) as any);\r\n    }\r\n  }, [channelId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleTimeString('en-US', { hour12: false });\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingText>Loading messages...</LoadingText>;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorText>{error}</ErrorText>;\r\n  }\r\n\r\n  return (\r\n    <MessageListContainer>\r\n      {messages.map((message: Message) => (\r\n        <MessageItem key={message.id}>\r\n          <MessageHeader>\r\n            <span>User #{message.sender_id}</span>\r\n            <span>{formatTimestamp(message.created_at)}</span>\r\n          </MessageHeader>\r\n          <MessageContent>{message.content}</MessageContent>\r\n        </MessageItem>\r\n      ))}\r\n      <div ref={messagesEndRef} />\r\n    </MessageListContainer>\r\n  );\r\n};\r\n\r\nexport default MessageList; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAOC,MAAM,MAAM,mBAAmB;AAGtC,SAASC,aAAa,QAAQ,wCAAwC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvE,MAAMC,oBAAoB,GAAGJ,MAAM,CAACK,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA,sBAAsBC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,UAAU;AAC5D,sBAAsBH,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACE,MAAM;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBJ,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACE,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GA5BIP,oBAAoB;AA8B1B,MAAMQ,WAAW,GAAGZ,MAAM,CAACK,GAAG;AAC9B;AACA;AACA,sBAAsBC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACE,MAAM;AACxD,sBAAsBJ,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACK,cAAc;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,aAAaP,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACM,OAAO;AAChD;AACA,CAAC;AAACC,GAAA,GAbIH,WAAW;AAejB,MAAMI,aAAa,GAAGhB,MAAM,CAACK,GAAG;AAChC;AACA;AACA;AACA;AACA,WAAWC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACM,OAAO;AAC9C,CAAC;AAACG,GAAA,GANID,aAAa;AAQnB,MAAME,cAAc,GAAGlB,MAAM,CAACK,GAAG;AACjC,WAAWC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACW,IAAI;AAC3C;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,cAAc;AAMpB,MAAMG,WAAW,GAAGrB,MAAM,CAACK,GAAG;AAC9B,WAAWC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACM,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GATID,WAAW;AAWjB,MAAME,SAAS,GAAGvB,MAAM,CAACK,GAAG;AAC5B,WAAWC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACgB,KAAK;AAC5C;AACA;AACA,sBAAsBlB,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACgB,KAAK;AACvD,CAAC;AAACC,GAAA,GALIF,SAAS;AAWf,MAAMG,WAAuC,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACjE,MAAMC,QAAQ,GAAG9B,WAAW,CAAC,CAAC;EAC9B,MAAM+B,cAAc,GAAGjC,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAMkC,QAAQ,GAAGjC,WAAW,CAAEkC,KAAgB,IAAKA,KAAK,CAACD,QAAQ,CAACE,iBAAiB,CAACN,SAAS,CAAC,IAAI,EAAE,CAAC;EACrG,MAAMO,OAAO,GAAGpC,WAAW,CAAEkC,KAAgB,IAAKA,KAAK,CAACD,QAAQ,CAACG,OAAO,CAAC;EACzE,MAAMV,KAAK,GAAG1B,WAAW,CAAEkC,KAAgB,IAAKA,KAAK,CAACD,QAAQ,CAACP,KAAK,CAAC;EAErE5B,SAAS,CAAC,MAAM;IACd,IAAI+B,SAAS,EAAE;MACbE,QAAQ,CAAC5B,aAAa,CAAC;QAAE0B;MAAU,CAAC,CAAQ,CAAC;IAC/C;EACF,CAAC,EAAE,CAACA,SAAS,EAAEE,QAAQ,CAAC,CAAC;EAEzBjC,SAAS,CAAC,MAAM;IAAA,IAAAuC,qBAAA;IACd,CAAAA,qBAAA,GAAAL,cAAc,CAACM,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,MAAMQ,eAAe,GAAIC,SAAiB,IAAK;IAC7C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;MAAEC,MAAM,EAAE;IAAM,CAAC,CAAC;EAC5D,CAAC;EAED,IAAIV,OAAO,EAAE;IACX,oBAAO/B,OAAA,CAACkB,WAAW;MAAAwB,QAAA,EAAC;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC;EACvD;EAEA,IAAIzB,KAAK,EAAE;IACT,oBAAOrB,OAAA,CAACoB,SAAS;MAAAsB,QAAA,EAAErB;IAAK;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC;EACvC;EAEA,oBACE9C,OAAA,CAACC,oBAAoB;IAAAyC,QAAA,GAClBd,QAAQ,CAACmB,GAAG,CAAEC,OAAgB,iBAC7BhD,OAAA,CAACS,WAAW;MAAAiC,QAAA,gBACV1C,OAAA,CAACa,aAAa;QAAA6B,QAAA,gBACZ1C,OAAA;UAAA0C,QAAA,GAAM,QAAM,EAACM,OAAO,CAACC,SAAS;QAAA;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtC9C,OAAA;UAAA0C,QAAA,EAAON,eAAe,CAACY,OAAO,CAACE,UAAU;QAAC;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC,eAChB9C,OAAA,CAACe,cAAc;QAAA2B,QAAA,EAAEM,OAAO,CAACG;MAAO;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiB,CAAC;IAAA,GALlCE,OAAO,CAACI,EAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAMf,CACd,CAAC,eACF9C,OAAA;MAAKqD,GAAG,EAAE1B;IAAe;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAE3B,CAAC;AAACrB,EAAA,CA5CIF,WAAuC;EAAA,QAC1B3B,WAAW,EAEXD,WAAW,EACZA,WAAW,EACbA,WAAW;AAAA;AAAA2D,GAAA,GALrB/B,WAAuC;AA8C7C,eAAeA,WAAW;AAAC,IAAAf,EAAA,EAAAI,GAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAgC,GAAA;AAAAC,YAAA,CAAA/C,EAAA;AAAA+C,YAAA,CAAA3C,GAAA;AAAA2C,YAAA,CAAAzC,GAAA;AAAAyC,YAAA,CAAAtC,GAAA;AAAAsC,YAAA,CAAApC,GAAA;AAAAoC,YAAA,CAAAjC,GAAA;AAAAiC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
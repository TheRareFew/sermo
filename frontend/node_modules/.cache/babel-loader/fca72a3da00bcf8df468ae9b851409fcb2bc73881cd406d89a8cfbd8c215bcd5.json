{"ast":null,"code":"import { api } from './base';\nimport { searchCache } from '../cache/searchCache';\nexport const searchChannels = async query => {\n  const response = await api.get(`/api/search/channels?query=${encodeURIComponent(query)}`);\n  return response.data;\n};\nexport const searchMessages = async query => {\n  const response = await api.get(`/api/search/messages?query=${encodeURIComponent(query)}`);\n  return response.data;\n};\nexport const searchFiles = async query => {\n  const response = await api.get(`/api/search/files?query=${encodeURIComponent(query)}`);\n  return response.data;\n};\nexport const searchAll = async query => {\n  // Check cache first\n  const cachedResults = searchCache.get(query);\n  if (cachedResults) {\n    return cachedResults;\n  }\n\n  // If not in cache, perform the search\n  const [channels, messages, files] = await Promise.all([searchChannels(query), searchMessages(query), searchFiles(query)]);\n  const results = {\n    channels,\n    messages,\n    files\n  };\n\n  // Cache the results\n  searchCache.set(query, results);\n  return results;\n};","map":{"version":3,"names":["api","searchCache","searchChannels","query","response","get","encodeURIComponent","data","searchMessages","searchFiles","searchAll","cachedResults","channels","messages","files","Promise","all","results","set"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/services/api/search.ts"],"sourcesContent":["import { api } from './base';\r\nimport { SearchResult, ChannelSearchResult, MessageSearchResult, FileSearchResult } from '../../types';\r\nimport { searchCache } from '../cache/searchCache';\r\n\r\nexport const searchChannels = async (query: string): Promise<ChannelSearchResult[]> => {\r\n  const response = await api.get(`/api/search/channels?query=${encodeURIComponent(query)}`);\r\n  return response.data;\r\n};\r\n\r\nexport const searchMessages = async (query: string): Promise<MessageSearchResult[]> => {\r\n  const response = await api.get(`/api/search/messages?query=${encodeURIComponent(query)}`);\r\n  return response.data;\r\n};\r\n\r\nexport const searchFiles = async (query: string): Promise<FileSearchResult[]> => {\r\n  const response = await api.get(`/api/search/files?query=${encodeURIComponent(query)}`);\r\n  return response.data;\r\n};\r\n\r\nexport const searchAll = async (query: string): Promise<SearchResult> => {\r\n  // Check cache first\r\n  const cachedResults = searchCache.get(query);\r\n  if (cachedResults) {\r\n    return cachedResults;\r\n  }\r\n\r\n  // If not in cache, perform the search\r\n  const [channels, messages, files] = await Promise.all([\r\n    searchChannels(query),\r\n    searchMessages(query),\r\n    searchFiles(query)\r\n  ]);\r\n\r\n  const results = { channels, messages, files };\r\n  \r\n  // Cache the results\r\n  searchCache.set(query, results);\r\n\r\n  return results;\r\n}; "],"mappings":"AAAA,SAASA,GAAG,QAAQ,QAAQ;AAE5B,SAASC,WAAW,QAAQ,sBAAsB;AAElD,OAAO,MAAMC,cAAc,GAAG,MAAOC,KAAa,IAAqC;EACrF,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAC,8BAA8BC,kBAAkB,CAACH,KAAK,CAAC,EAAE,CAAC;EACzF,OAAOC,QAAQ,CAACG,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAOL,KAAa,IAAqC;EACrF,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAC,8BAA8BC,kBAAkB,CAACH,KAAK,CAAC,EAAE,CAAC;EACzF,OAAOC,QAAQ,CAACG,IAAI;AACtB,CAAC;AAED,OAAO,MAAME,WAAW,GAAG,MAAON,KAAa,IAAkC;EAC/E,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAC,2BAA2BC,kBAAkB,CAACH,KAAK,CAAC,EAAE,CAAC;EACtF,OAAOC,QAAQ,CAACG,IAAI;AACtB,CAAC;AAED,OAAO,MAAMG,SAAS,GAAG,MAAOP,KAAa,IAA4B;EACvE;EACA,MAAMQ,aAAa,GAAGV,WAAW,CAACI,GAAG,CAACF,KAAK,CAAC;EAC5C,IAAIQ,aAAa,EAAE;IACjB,OAAOA,aAAa;EACtB;;EAEA;EACA,MAAM,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpDd,cAAc,CAACC,KAAK,CAAC,EACrBK,cAAc,CAACL,KAAK,CAAC,EACrBM,WAAW,CAACN,KAAK,CAAC,CACnB,CAAC;EAEF,MAAMc,OAAO,GAAG;IAAEL,QAAQ;IAAEC,QAAQ;IAAEC;EAAM,CAAC;;EAE7C;EACAb,WAAW,CAACiB,GAAG,CAACf,KAAK,EAAEc,OAAO,CAAC;EAE/B,OAAOA,OAAO;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"export const transformMessage = message => {\n  console.log('Transforming message:', message);\n\n  // Ensure reactions is an array\n  const reactions = Array.isArray(message.reactions) ? message.reactions : [];\n  console.log('Transformed reactions:', reactions);\n  return {\n    id: message.id.toString(),\n    content: message.content,\n    channelId: (message.channelId || message.channel_id || '').toString(),\n    userId: (message.userId || message.sender_id || '').toString(),\n    createdAt: message.createdAt || message.created_at || new Date().toISOString(),\n    updatedAt: message.updatedAt || message.updated_at || message.createdAt || message.created_at || new Date().toISOString(),\n    parentId: message.parentId || message.parent_id || null,\n    replyCount: message.replyCount || message.reply_count || 0,\n    isExpanded: message.isExpanded || false,\n    repliesLoaded: message.repliesLoaded || false,\n    replies: message.replies || [],\n    reactions,\n    attachments: message.attachments || []\n  };\n};","map":{"version":3,"names":["transformMessage","message","console","log","reactions","Array","isArray","id","toString","content","channelId","channel_id","userId","sender_id","createdAt","created_at","Date","toISOString","updatedAt","updated_at","parentId","parent_id","replyCount","reply_count","isExpanded","repliesLoaded","replies","attachments"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/utils/messageTransform.ts"],"sourcesContent":["import { RawMessage, StoreMessage, Reaction } from '../types';\n\nexport const transformMessage = (message: RawMessage): StoreMessage => {\n  console.log('Transforming message:', message);\n  \n  // Ensure reactions is an array\n  const reactions = Array.isArray(message.reactions) ? message.reactions : [];\n  console.log('Transformed reactions:', reactions);\n  \n  return {\n    id: message.id.toString(),\n    content: message.content,\n    channelId: (message.channelId || message.channel_id || '').toString(),\n    userId: (message.userId || message.sender_id || '').toString(),\n    createdAt: message.createdAt || message.created_at || new Date().toISOString(),\n    updatedAt: message.updatedAt || message.updated_at || message.createdAt || message.created_at || new Date().toISOString(),\n    parentId: message.parentId || message.parent_id || null,\n    replyCount: message.replyCount || message.reply_count || 0,\n    isExpanded: message.isExpanded || false,\n    repliesLoaded: message.repliesLoaded || false,\n    replies: message.replies || [],\n    reactions,\n    attachments: message.attachments || []\n  };\n}; "],"mappings":"AAEA,OAAO,MAAMA,gBAAgB,GAAIC,OAAmB,IAAmB;EACrEC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,OAAO,CAAC;;EAE7C;EACA,MAAMG,SAAS,GAAGC,KAAK,CAACC,OAAO,CAACL,OAAO,CAACG,SAAS,CAAC,GAAGH,OAAO,CAACG,SAAS,GAAG,EAAE;EAC3EF,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,SAAS,CAAC;EAEhD,OAAO;IACLG,EAAE,EAAEN,OAAO,CAACM,EAAE,CAACC,QAAQ,CAAC,CAAC;IACzBC,OAAO,EAAER,OAAO,CAACQ,OAAO;IACxBC,SAAS,EAAE,CAACT,OAAO,CAACS,SAAS,IAAIT,OAAO,CAACU,UAAU,IAAI,EAAE,EAAEH,QAAQ,CAAC,CAAC;IACrEI,MAAM,EAAE,CAACX,OAAO,CAACW,MAAM,IAAIX,OAAO,CAACY,SAAS,IAAI,EAAE,EAAEL,QAAQ,CAAC,CAAC;IAC9DM,SAAS,EAAEb,OAAO,CAACa,SAAS,IAAIb,OAAO,CAACc,UAAU,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC9EC,SAAS,EAAEjB,OAAO,CAACiB,SAAS,IAAIjB,OAAO,CAACkB,UAAU,IAAIlB,OAAO,CAACa,SAAS,IAAIb,OAAO,CAACc,UAAU,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACzHG,QAAQ,EAAEnB,OAAO,CAACmB,QAAQ,IAAInB,OAAO,CAACoB,SAAS,IAAI,IAAI;IACvDC,UAAU,EAAErB,OAAO,CAACqB,UAAU,IAAIrB,OAAO,CAACsB,WAAW,IAAI,CAAC;IAC1DC,UAAU,EAAEvB,OAAO,CAACuB,UAAU,IAAI,KAAK;IACvCC,aAAa,EAAExB,OAAO,CAACwB,aAAa,IAAI,KAAK;IAC7CC,OAAO,EAAEzB,OAAO,CAACyB,OAAO,IAAI,EAAE;IAC9BtB,SAAS;IACTuB,WAAW,EAAE1B,OAAO,CAAC0B,WAAW,IAAI;EACtC,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
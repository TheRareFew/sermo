{"ast":null,"code":"var _jsxFileName = \"Z:\\\\GAUNTLET\\\\projects\\\\SERMO\\\\sermo-app\\\\frontend\\\\src\\\\components\\\\chat\\\\Message\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styled from 'styled-components';\nimport MessageOptions from '../../chat/MessageOptions';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageContainer = styled.div`\n  font-family: 'Courier New', monospace;\n  padding: 2px 0;\n  color: #fff;\n  position: relative;\n  \n  &:hover {\n    background-color: #2a2a2a;\n  }\n`;\n_c = MessageContainer;\nconst MessageContent = styled.div`\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  position: relative;\n  padding-right: 40px; /* Make room for the options menu */\n`;\n_c2 = MessageContent;\nconst MessageText = styled.div`\n  flex: 1;\n  min-width: 0; /* Allow text to wrap */\n`;\n_c3 = MessageText;\nconst OptionsWrapper = styled.div`\n  position: absolute;\n  right: 8px;\n  top: 0;\n`;\n_c4 = OptionsWrapper;\nconst ChatMessage = ({\n  message,\n  onDelete,\n  onToggleReplies,\n  onReply\n}) => {\n  _s();\n  const currentUser = useSelector(state => state.auth.user);\n  const {\n    content,\n    userId,\n    createdAt,\n    parentId\n  } = message;\n  const isOwnMessage = userId === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n  return /*#__PURE__*/_jsxDEV(MessageContainer, {\n    children: /*#__PURE__*/_jsxDEV(MessageContent, {\n      children: [/*#__PURE__*/_jsxDEV(MessageText, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#888'\n          },\n          children: `${userId}:`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), \" \", content]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OptionsWrapper, {\n        children: /*#__PURE__*/_jsxDEV(MessageOptions, {\n          onDelete: onDelete,\n          onReply: onReply,\n          canDelete: isOwnMessage,\n          canReply: !parentId // Only allow replies on main messages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatMessage, \"lZdPyK/MobwtETtTACdKAch84Kw=\", false, function () {\n  return [useSelector];\n});\n_c5 = ChatMessage;\nexport default ChatMessage;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"MessageContainer\");\n$RefreshReg$(_c2, \"MessageContent\");\n$RefreshReg$(_c3, \"MessageText\");\n$RefreshReg$(_c4, \"OptionsWrapper\");\n$RefreshReg$(_c5, \"ChatMessage\");","map":{"version":3,"names":["React","styled","MessageOptions","useSelector","jsxDEV","_jsxDEV","MessageContainer","div","_c","MessageContent","_c2","MessageText","_c3","OptionsWrapper","_c4","ChatMessage","message","onDelete","onToggleReplies","onReply","_s","currentUser","state","auth","user","content","userId","createdAt","parentId","isOwnMessage","id","children","style","color","fileName","_jsxFileName","lineNumber","columnNumber","canDelete","canReply","_c5","$RefreshReg$"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/components/chat/Message/index.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport MessageOptions from '../../chat/MessageOptions';\nimport { StoreMessage } from '../../../types';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../types';\n\nexport interface ChatMessageProps {\n  message: StoreMessage;\n  onDelete: () => void;\n  onToggleReplies: () => void;\n  onReply: () => void;\n}\n\nconst MessageContainer = styled.div`\n  font-family: 'Courier New', monospace;\n  padding: 2px 0;\n  color: #fff;\n  position: relative;\n  \n  &:hover {\n    background-color: #2a2a2a;\n  }\n`;\n\nconst MessageContent = styled.div`\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  position: relative;\n  padding-right: 40px; /* Make room for the options menu */\n`;\n\nconst MessageText = styled.div`\n  flex: 1;\n  min-width: 0; /* Allow text to wrap */\n`;\n\nconst OptionsWrapper = styled.div`\n  position: absolute;\n  right: 8px;\n  top: 0;\n`;\n\nconst ChatMessage: React.FC<ChatMessageProps> = ({\n  message,\n  onDelete,\n  onToggleReplies,\n  onReply,\n}) => {\n  const currentUser = useSelector((state: RootState) => state.auth.user);\n  const {\n    content,\n    userId,\n    createdAt,\n    parentId\n  } = message;\n\n  const isOwnMessage = userId === currentUser?.id;\n\n  return (\n    <MessageContainer>\n      <MessageContent>\n        <MessageText>\n          <span style={{ color: '#888' }}>{`${userId}:`}</span> {content}\n        </MessageText>\n        <OptionsWrapper>\n          <MessageOptions\n            onDelete={onDelete}\n            onReply={onReply}\n            canDelete={isOwnMessage}\n            canReply={!parentId} // Only allow replies on main messages\n          />\n        </OptionsWrapper>\n      </MessageContent>\n    </MessageContainer>\n  );\n};\n\nexport default ChatMessage; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,cAAc,MAAM,2BAA2B;AAEtD,SAASC,WAAW,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAU1C,MAAMC,gBAAgB,GAAGL,MAAM,CAACM,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GATIF,gBAAgB;AAWtB,MAAMG,cAAc,GAAGR,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GARID,cAAc;AAUpB,MAAME,WAAW,GAAGV,MAAM,CAACM,GAAG;AAC9B;AACA;AACA,CAAC;AAACK,GAAA,GAHID,WAAW;AAKjB,MAAME,cAAc,GAAGZ,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA,CAAC;AAACO,GAAA,GAJID,cAAc;AAMpB,MAAME,WAAuC,GAAGA,CAAC;EAC/CC,OAAO;EACPC,QAAQ;EACRC,eAAe;EACfC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,WAAW,GAAGlB,WAAW,CAAEmB,KAAgB,IAAKA,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC;EACtE,MAAM;IACJC,OAAO;IACPC,MAAM;IACNC,SAAS;IACTC;EACF,CAAC,GAAGZ,OAAO;EAEX,MAAMa,YAAY,GAAGH,MAAM,MAAKL,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAES,EAAE;EAE/C,oBACEzB,OAAA,CAACC,gBAAgB;IAAAyB,QAAA,eACf1B,OAAA,CAACI,cAAc;MAAAsB,QAAA,gBACb1B,OAAA,CAACM,WAAW;QAAAoB,QAAA,gBACV1B,OAAA;UAAM2B,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAO,CAAE;UAAAF,QAAA,EAAE,GAAGL,MAAM;QAAG;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,KAAC,EAACZ,OAAO;MAAA;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eACdhC,OAAA,CAACQ,cAAc;QAAAkB,QAAA,eACb1B,OAAA,CAACH,cAAc;UACbe,QAAQ,EAAEA,QAAS;UACnBE,OAAO,EAAEA,OAAQ;UACjBmB,SAAS,EAAET,YAAa;UACxBU,QAAQ,EAAE,CAACX,QAAS,CAAC;QAAA;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEvB,CAAC;AAACjB,EAAA,CAjCIL,WAAuC;EAAA,QAMvBZ,WAAW;AAAA;AAAAqC,GAAA,GAN3BzB,WAAuC;AAmC7C,eAAeA,WAAW;AAAC,IAAAP,EAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAA0B,GAAA;AAAAC,YAAA,CAAAjC,EAAA;AAAAiC,YAAA,CAAA/B,GAAA;AAAA+B,YAAA,CAAA7B,GAAA;AAAA6B,YAAA,CAAA3B,GAAA;AAAA2B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
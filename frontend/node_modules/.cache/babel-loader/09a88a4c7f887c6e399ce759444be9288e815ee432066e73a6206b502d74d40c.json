{"ast":null,"code":"var _jsxFileName = \"Z:\\\\GAUNTLET\\\\projects\\\\SERMO\\\\sermo-app\\\\frontend\\\\src\\\\components\\\\chat\\\\MessageList\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport ChatMessage from '../../common/ChatMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageListContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n_c = MessageListContainer;\nconst MessageWrapper = styled.div`\n  transition: background-color 0.3s ease;\n  padding: 4px;\n  border-radius: 4px;\n  background-color: ${props => props.$isSelected ? '#3a3a3a' : 'transparent'};\n`;\n_c2 = MessageWrapper;\nconst MessageList = ({\n  messages,\n  selectedMessageId\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const selectedMessageRef = useRef(null);\n  const {\n    currentUser,\n    users\n  } = useSelector(state => ({\n    currentUser: state.auth.user,\n    users: state.chat.users\n  }));\n  useEffect(() => {\n    // Scroll to bottom on initial load\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, []);\n  useEffect(() => {\n    // Scroll to selected message\n    if (selectedMessageId && selectedMessageRef.current) {\n      selectedMessageRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedMessageId]);\n  const handleDeleteMessage = messageId => {\n    // TODO: Implement delete functionality\n    console.log('Delete message:', messageId);\n  };\n  const handleToggleReplies = messageId => {\n    // TODO: Implement toggle replies functionality\n    console.log('Toggle replies:', messageId);\n  };\n  const handleReply = messageId => {\n    // TODO: Implement reply functionality\n    console.log('Reply to message:', messageId);\n  };\n  return /*#__PURE__*/_jsxDEV(MessageListContainer, {\n    ref: containerRef,\n    children: messages.map(message => {\n      var _users$message$userId;\n      return /*#__PURE__*/_jsxDEV(MessageWrapper, {\n        $isSelected: message.id === selectedMessageId,\n        ref: message.id === selectedMessageId ? selectedMessageRef : undefined,\n        children: /*#__PURE__*/_jsxDEV(ChatMessage, {\n          content: message.content,\n          sender: ((_users$message$userId = users[message.userId]) === null || _users$message$userId === void 0 ? void 0 : _users$message$userId.username) || message.userId,\n          timestamp: message.createdAt,\n          userId: message.userId,\n          currentUserId: currentUser === null || currentUser === void 0 ? void 0 : currentUser.id,\n          onDelete: () => handleDeleteMessage(message.id),\n          replyCount: message.replyCount,\n          isExpanded: message.isExpanded || false,\n          onToggleReplies: () => handleToggleReplies(message.id),\n          onReply: () => handleReply(message.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageList, \"1/FV+PzxCsfOn0o9tRjyhhJ3YAY=\", false, function () {\n  return [useSelector];\n});\n_c3 = MessageList;\nexport default MessageList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MessageListContainer\");\n$RefreshReg$(_c2, \"MessageWrapper\");\n$RefreshReg$(_c3, \"MessageList\");","map":{"version":3,"names":["React","useEffect","useRef","styled","useSelector","ChatMessage","jsxDEV","_jsxDEV","MessageListContainer","div","_c","MessageWrapper","props","$isSelected","_c2","MessageList","messages","selectedMessageId","_s","containerRef","selectedMessageRef","currentUser","users","state","auth","user","chat","current","scrollTop","scrollHeight","scrollIntoView","behavior","block","handleDeleteMessage","messageId","console","log","handleToggleReplies","handleReply","ref","children","map","message","_users$message$userId","id","undefined","content","sender","userId","username","timestamp","createdAt","currentUserId","onDelete","replyCount","isExpanded","onToggleReplies","onReply","fileName","_jsxFileName","lineNumber","columnNumber","_c3","$RefreshReg$"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/components/chat/MessageList/index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { RootState, StoreMessage, User } from '../../../types';\nimport ChatMessage from '../../common/ChatMessage';\n\ninterface MessageListProps {\n  messages: StoreMessage[];\n  selectedMessageId?: string | null;\n}\n\nconst MessageListContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nconst MessageWrapper = styled.div<{ $isSelected?: boolean }>`\n  transition: background-color 0.3s ease;\n  padding: 4px;\n  border-radius: 4px;\n  background-color: ${props => props.$isSelected ? '#3a3a3a' : 'transparent'};\n`;\n\nconst MessageList: React.FC<MessageListProps> = ({ messages, selectedMessageId }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const selectedMessageRef = useRef<HTMLDivElement>(null);\n\n  const { currentUser, users } = useSelector((state: RootState) => ({\n    currentUser: state.auth.user,\n    users: state.chat.users as { [key: string]: User }\n  }));\n\n  useEffect(() => {\n    // Scroll to bottom on initial load\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, []);\n\n  useEffect(() => {\n    // Scroll to selected message\n    if (selectedMessageId && selectedMessageRef.current) {\n      selectedMessageRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedMessageId]);\n\n  const handleDeleteMessage = (messageId: string) => {\n    // TODO: Implement delete functionality\n    console.log('Delete message:', messageId);\n  };\n\n  const handleToggleReplies = (messageId: string) => {\n    // TODO: Implement toggle replies functionality\n    console.log('Toggle replies:', messageId);\n  };\n\n  const handleReply = (messageId: string) => {\n    // TODO: Implement reply functionality\n    console.log('Reply to message:', messageId);\n  };\n\n  return (\n    <MessageListContainer ref={containerRef}>\n      {messages.map(message => (\n        <MessageWrapper\n          key={message.id}\n          $isSelected={message.id === selectedMessageId}\n          ref={message.id === selectedMessageId ? selectedMessageRef : undefined}\n        >\n          <ChatMessage\n            content={message.content}\n            sender={users[message.userId]?.username || message.userId}\n            timestamp={message.createdAt}\n            userId={message.userId}\n            currentUserId={currentUser?.id}\n            onDelete={() => handleDeleteMessage(message.id)}\n            replyCount={message.replyCount}\n            isExpanded={message.isExpanded || false}\n            onToggleReplies={() => handleToggleReplies(message.id)}\n            onReply={() => handleReply(message.id)}\n          />\n        </MessageWrapper>\n      ))}\n    </MessageListContainer>\n  );\n};\n\nexport default MessageList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
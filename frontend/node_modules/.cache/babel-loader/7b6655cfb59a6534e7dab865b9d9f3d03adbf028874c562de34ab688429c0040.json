{"ast":null,"code":"var _jsxFileName = \"Z:\\\\GAUNTLET\\\\projects\\\\SERMO\\\\sermo-app\\\\frontend\\\\src\\\\components\\\\chat\\\\MessageList\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport ChatMessage from '../ChatMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageListContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n_c = MessageListContainer;\nconst MessageWrapper = styled.div`\n  transition: background-color 0.3s ease;\n  padding: 4px;\n  border-radius: 4px;\n  background-color: ${props => props.$isSelected ? '#3a3a3a' : 'transparent'};\n`;\n_c2 = MessageWrapper;\nconst MessageList = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c3 = _s(({\n  messages,\n  selectedMessageId\n}, ref) => {\n  _s();\n  const selectedMessageRef = useRef(null);\n  const {\n    currentUser,\n    users\n  } = useSelector(state => ({\n    currentUser: state.auth.user,\n    users: state.chat.users\n  }));\n  useEffect(() => {\n    // Scroll to bottom on initial load\n    if (ref && 'current' in ref && ref.current) {\n      ref.current.scrollTop = ref.current.scrollHeight;\n    }\n  }, [ref]);\n  useEffect(() => {\n    // Scroll to selected message\n    if (selectedMessageId && selectedMessageRef.current) {\n      selectedMessageRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedMessageId]);\n  const handleDeleteMessage = messageId => {\n    // TODO: Implement delete functionality\n    console.log('Delete message:', messageId);\n  };\n  const handleToggleReplies = messageId => {\n    // TODO: Implement toggle replies functionality\n    console.log('Toggle replies:', messageId);\n  };\n  const handleReply = messageId => {\n    // TODO: Implement reply functionality\n    console.log('Reply to message:', messageId);\n  };\n  return /*#__PURE__*/_jsxDEV(MessageListContainer, {\n    ref: ref,\n    children: messages.map(message => {\n      var _users$message$userId;\n      return /*#__PURE__*/_jsxDEV(MessageWrapper, {\n        $isSelected: message.id === selectedMessageId,\n        ref: message.id === selectedMessageId ? selectedMessageRef : undefined,\n        children: /*#__PURE__*/_jsxDEV(ChatMessage, {\n          content: message.content,\n          sender: ((_users$message$userId = users[message.userId]) === null || _users$message$userId === void 0 ? void 0 : _users$message$userId.username) || message.userId,\n          timestamp: message.createdAt,\n          userId: message.userId,\n          currentUserId: currentUser === null || currentUser === void 0 ? void 0 : currentUser.id,\n          onDelete: () => handleDeleteMessage(message.id),\n          replyCount: message.replyCount,\n          isExpanded: message.isExpanded || false,\n          onToggleReplies: () => handleToggleReplies(message.id),\n          onReply: () => handleReply(message.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}, \"1ErC2y6wzrDqLUx4NEofMPA0QEs=\", false, function () {\n  return [useSelector];\n})), \"1ErC2y6wzrDqLUx4NEofMPA0QEs=\", false, function () {\n  return [useSelector];\n});\n_c4 = MessageList;\nMessageList.displayName = 'MessageList';\nexport default MessageList;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MessageListContainer\");\n$RefreshReg$(_c2, \"MessageWrapper\");\n$RefreshReg$(_c3, \"MessageList$forwardRef\");\n$RefreshReg$(_c4, \"MessageList\");","map":{"version":3,"names":["React","useEffect","useRef","forwardRef","styled","useSelector","ChatMessage","jsxDEV","_jsxDEV","MessageListContainer","div","_c","MessageWrapper","props","$isSelected","_c2","MessageList","_s","_c3","messages","selectedMessageId","ref","selectedMessageRef","currentUser","users","state","auth","user","chat","current","scrollTop","scrollHeight","scrollIntoView","behavior","block","handleDeleteMessage","messageId","console","log","handleToggleReplies","handleReply","children","map","message","_users$message$userId","id","undefined","content","sender","userId","username","timestamp","createdAt","currentUserId","onDelete","replyCount","isExpanded","onToggleReplies","onReply","fileName","_jsxFileName","lineNumber","columnNumber","_c4","displayName","$RefreshReg$"],"sources":["Z:/GAUNTLET/projects/SERMO/sermo-app/frontend/src/components/chat/MessageList/index.tsx"],"sourcesContent":["import React, { useEffect, useRef, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { RootState, StoreMessage, User } from '../../../types';\nimport ChatMessage from '../ChatMessage';\n\ninterface MessageListProps {\n  messages: StoreMessage[];\n  selectedMessageId?: string | null;\n}\n\nconst MessageListContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nconst MessageWrapper = styled.div<{ $isSelected?: boolean }>`\n  transition: background-color 0.3s ease;\n  padding: 4px;\n  border-radius: 4px;\n  background-color: ${props => props.$isSelected ? '#3a3a3a' : 'transparent'};\n`;\n\nconst MessageList = forwardRef<HTMLDivElement, MessageListProps>(({ messages, selectedMessageId }, ref) => {\n  const selectedMessageRef = useRef<HTMLDivElement>(null);\n\n  const { currentUser, users } = useSelector((state: RootState) => ({\n    currentUser: state.auth.user,\n    users: state.chat.users as { [key: string]: User }\n  }));\n\n  useEffect(() => {\n    // Scroll to bottom on initial load\n    if (ref && 'current' in ref && ref.current) {\n      ref.current.scrollTop = ref.current.scrollHeight;\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    // Scroll to selected message\n    if (selectedMessageId && selectedMessageRef.current) {\n      selectedMessageRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [selectedMessageId]);\n\n  const handleDeleteMessage = (messageId: string) => {\n    // TODO: Implement delete functionality\n    console.log('Delete message:', messageId);\n  };\n\n  const handleToggleReplies = (messageId: string) => {\n    // TODO: Implement toggle replies functionality\n    console.log('Toggle replies:', messageId);\n  };\n\n  const handleReply = (messageId: string) => {\n    // TODO: Implement reply functionality\n    console.log('Reply to message:', messageId);\n  };\n\n  return (\n    <MessageListContainer ref={ref}>\n      {messages.map(message => (\n        <MessageWrapper\n          key={message.id}\n          $isSelected={message.id === selectedMessageId}\n          ref={message.id === selectedMessageId ? selectedMessageRef : undefined}\n        >\n          <ChatMessage\n            content={message.content}\n            sender={users[message.userId]?.username || message.userId}\n            timestamp={message.createdAt}\n            userId={message.userId}\n            currentUserId={currentUser?.id}\n            onDelete={() => handleDeleteMessage(message.id)}\n            replyCount={message.replyCount}\n            isExpanded={message.isExpanded || false}\n            onToggleReplies={() => handleToggleReplies(message.id)}\n            onReply={() => handleReply(message.id)}\n          />\n        </MessageWrapper>\n      ))}\n    </MessageListContainer>\n  );\n});\n\nMessageList.displayName = 'MessageList';\n\nexport default MessageList; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,UAAU,QAAQ,OAAO;AAC5D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,WAAW,QAAQ,aAAa;AAEzC,OAAOC,WAAW,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOzC,MAAMC,oBAAoB,GAAGL,MAAM,CAACM,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAPIF,oBAAoB;AAS1B,MAAMG,cAAc,GAAGR,MAAM,CAACM,GAA8B;AAC5D;AACA;AACA;AACA,sBAAsBG,KAAK,IAAIA,KAAK,CAACC,WAAW,GAAG,SAAS,GAAG,aAAa;AAC5E,CAAC;AAACC,GAAA,GALIH,cAAc;AAOpB,MAAMI,WAAW,gBAAAC,EAAA,cAAGd,UAAU,CAAAe,GAAA,GAAAD,EAAA,CAAmC,CAAC;EAAEE,QAAQ;EAAEC;AAAkB,CAAC,EAAEC,GAAG,KAAK;EAAAJ,EAAA;EACzG,MAAMK,kBAAkB,GAAGpB,MAAM,CAAiB,IAAI,CAAC;EAEvD,MAAM;IAAEqB,WAAW;IAAEC;EAAM,CAAC,GAAGnB,WAAW,CAAEoB,KAAgB,KAAM;IAChEF,WAAW,EAAEE,KAAK,CAACC,IAAI,CAACC,IAAI;IAC5BH,KAAK,EAAEC,KAAK,CAACG,IAAI,CAACJ;EACpB,CAAC,CAAC,CAAC;EAEHvB,SAAS,CAAC,MAAM;IACd;IACA,IAAIoB,GAAG,IAAI,SAAS,IAAIA,GAAG,IAAIA,GAAG,CAACQ,OAAO,EAAE;MAC1CR,GAAG,CAACQ,OAAO,CAACC,SAAS,GAAGT,GAAG,CAACQ,OAAO,CAACE,YAAY;IAClD;EACF,CAAC,EAAE,CAACV,GAAG,CAAC,CAAC;EAETpB,SAAS,CAAC,MAAM;IACd;IACA,IAAImB,iBAAiB,IAAIE,kBAAkB,CAACO,OAAO,EAAE;MACnDP,kBAAkB,CAACO,OAAO,CAACG,cAAc,CAAC;QACxCC,QAAQ,EAAE,QAAQ;QAClBC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACd,iBAAiB,CAAC,CAAC;EAEvB,MAAMe,mBAAmB,GAAIC,SAAiB,IAAK;IACjD;IACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,SAAS,CAAC;EAC3C,CAAC;EAED,MAAMG,mBAAmB,GAAIH,SAAiB,IAAK;IACjD;IACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,SAAS,CAAC;EAC3C,CAAC;EAED,MAAMI,WAAW,GAAIJ,SAAiB,IAAK;IACzC;IACAC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,SAAS,CAAC;EAC7C,CAAC;EAED,oBACE5B,OAAA,CAACC,oBAAoB;IAACY,GAAG,EAAEA,GAAI;IAAAoB,QAAA,EAC5BtB,QAAQ,CAACuB,GAAG,CAACC,OAAO;MAAA,IAAAC,qBAAA;MAAA,oBACnBpC,OAAA,CAACI,cAAc;QAEbE,WAAW,EAAE6B,OAAO,CAACE,EAAE,KAAKzB,iBAAkB;QAC9CC,GAAG,EAAEsB,OAAO,CAACE,EAAE,KAAKzB,iBAAiB,GAAGE,kBAAkB,GAAGwB,SAAU;QAAAL,QAAA,eAEvEjC,OAAA,CAACF,WAAW;UACVyC,OAAO,EAAEJ,OAAO,CAACI,OAAQ;UACzBC,MAAM,EAAE,EAAAJ,qBAAA,GAAApB,KAAK,CAACmB,OAAO,CAACM,MAAM,CAAC,cAAAL,qBAAA,uBAArBA,qBAAA,CAAuBM,QAAQ,KAAIP,OAAO,CAACM,MAAO;UAC1DE,SAAS,EAAER,OAAO,CAACS,SAAU;UAC7BH,MAAM,EAAEN,OAAO,CAACM,MAAO;UACvBI,aAAa,EAAE9B,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEsB,EAAG;UAC/BS,QAAQ,EAAEA,CAAA,KAAMnB,mBAAmB,CAACQ,OAAO,CAACE,EAAE,CAAE;UAChDU,UAAU,EAAEZ,OAAO,CAACY,UAAW;UAC/BC,UAAU,EAAEb,OAAO,CAACa,UAAU,IAAI,KAAM;UACxCC,eAAe,EAAEA,CAAA,KAAMlB,mBAAmB,CAACI,OAAO,CAACE,EAAE,CAAE;UACvDa,OAAO,EAAEA,CAAA,KAAMlB,WAAW,CAACG,OAAO,CAACE,EAAE;QAAE;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC;MAAC,GAfGnB,OAAO,CAACE,EAAE;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBD,CAAC;IAAA,CAClB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAE3B,CAAC;EAAA,QA7DgCzD,WAAW;AAAA,EA6D3C,CAAC;EAAA,QA7D+BA,WAAW;AAAA,EA6D1C;AAAC0D,GAAA,GAhEG/C,WAAW;AAkEjBA,WAAW,CAACgD,WAAW,GAAG,aAAa;AAEvC,eAAehD,WAAW;AAAC,IAAAL,EAAA,EAAAI,GAAA,EAAAG,GAAA,EAAA6C,GAAA;AAAAE,YAAA,CAAAtD,EAAA;AAAAsD,YAAA,CAAAlD,GAAA;AAAAkD,YAAA,CAAA/C,GAAA;AAAA+C,YAAA,CAAAF,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}